CMAKE_MINIMUM_REQUIRED(VERSION 2.8.11)

#
# Helper functions
#

FUNCTION(PRINT_VAR_W_PREFIX  PREFIX_STR  VAR_NAME)
  MESSAGE("${PREFIX_STR}: ${VAR_NAME} = '${${VAR_NAME}}'")
ENDFUNCTION()

FUNCTION(PRINT_XSDK_RELATED_VARS  PREFIX_STR)
  PRINT_VAR_W_PREFIX("${PREFIX_STR}"  CMAKE_CXX_COMPILER)
  PRINT_VAR_W_PREFIX("${PREFIX_STR}"  CMAKE_CXX_FLAGS)
  PRINT_VAR_W_PREFIX("${PREFIX_STR}"  CMAKE_CXX_FLAGS_DEBUG)
  PRINT_VAR_W_PREFIX("${PREFIX_STR}"  CMAKE_CXX_FLAGS_RELEASE)
  PRINT_VAR_W_PREFIX("${PREFIX_STR}"  BUILD_SHARED_LIBS)
  PRINT_VAR_W_PREFIX("${PREFIX_STR}"  CMAKE_BUILD_TYPE)
ENDFUNCTION()

#
# Example/test driver project
#

# Define the project but don't allow the compilers to be enabled yet
PROJECT(XSDKExampleProj  NONE)

MESSAGE("\nPrint variables before applying XSDK defaults:")
PRINT_XSDK_RELATED_VARS("Before XSDK")

MESSAGE("\nProcess XSDK defaults ...")
INCLUDE("${CMAKE_CURRENT_LIST_DIR}/../XSDKDefaults.cmake")

MESSAGE("\nPrint variables after applying XSDK defaults but before enable lang:")
PRINT_XSDK_RELATED_VARS("Before EL")

MESSAGE("\n*** Call ENABLE_LANGUAGE(CXX) ...\n")
ENABLE_LANGUAGE(CXX)

MESSAGE("\nPrint variables after enable lang:")
PRINT_XSDK_RELATED_VARS("After EL")
