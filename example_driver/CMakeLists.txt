CMAKE_MINIMUM_REQUIRED(VERSION 2.8.11)

FUNCTION(PRINT_VAR_W_PREFIX  PREFIX_STR  VAR_NAME)
  MESSAGE("${PREFIX_STR}: ${VAR_NAME} = '${${VAR_NAME}}'")
ENDFUNCTION()

# Define the project but don't allow the compilers to be enabled yet
PROJECT(XSDKExampleProj NONE)

MESSAGE("\nPrint variables before appling XSDK defaults:")
PRINT_VAR_W_PREFIX("Before XSDK"  CMAKE_CXX_COMPILER)
PRINT_VAR_W_PREFIX("Before XSDK"  CMAKE_CXX_FLAGS)
PRINT_VAR_W_PREFIX("Before XSDK"  CMAKE_CXX_FLAGS_DEBUG)
PRINT_VAR_W_PREFIX("Before XSDK"  CMAKE_CXX_FLAGS_RELEASE)
PRINT_VAR_W_PREFIX("Before XSDK"  BUILD_SHARED_LIBS)
PRINT_VAR_W_PREFIX("Before XSDK"  CMAKE_BUILD_TYPE)

MESSAGE("\nProcess XSDK defaults ...")
INCLUDE("${CMAKE_CURRENT_LIST_DIR}/../XSDKDefaults.cmake")

MESSAGE("\nPrint variables after appling XSDK defaults but before enable lang:")
PRINT_VAR_W_PREFIX("Before EL"  CMAKE_CXX_COMPILER)
PRINT_VAR_W_PREFIX("Before EL"  CMAKE_CXX_FLAGS)
PRINT_VAR_W_PREFIX("Before EL"  CMAKE_CXX_FLAGS_DEBUG)
PRINT_VAR_W_PREFIX("Before EL"  CMAKE_CXX_FLAGS_RELEASE)
PRINT_VAR_W_PREFIX("Before EL"  BUILD_SHARED_LIBS)
PRINT_VAR_W_PREFIX("Before EL"  CMAKE_BUILD_TYPE)

MESSAGE("\n*** Call ENABLE_LANGUAGE(CXX) ...\n")
ENABLE_LANGUAGE(CXX)

MESSAGE("\nPrint variables after enable lang:")
PRINT_VAR_W_PREFIX("After EL"  CMAKE_CXX_COMPILER)
PRINT_VAR_W_PREFIX("After EL"  CMAKE_CXX_FLAGS)
PRINT_VAR_W_PREFIX("After EL"  CMAKE_CXX_FLAGS_DEBUG)
PRINT_VAR_W_PREFIX("After EL"  CMAKE_CXX_FLAGS_RELEASE)
PRINT_VAR_W_PREFIX("After EL"  BUILD_SHARED_LIBS)
PRINT_VAR_W_PREFIX("After EL"  CMAKE_BUILD_TYPE)
PRINT_VAR_W_PREFIX("After EL"  CMAKE_CXX_COMPILER_ID)
